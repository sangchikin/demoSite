@import '@fontsource-variable/inter' layer(base);
@import '@fontsource-variable/newsreader' layer(base);
@import '@fontsource-variable/newsreader/wght-italic.css' layer(base);

@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@custom-variant dark (&:where(.dark, .dark *));

/* Chán Giàu Brand Colors - Light Mode */
:root {
    --text-main: #3a4238;        /* Olive dark - từ brand palette */
    --bg-main: #faf8f5;          /* Warm White - từ brand palette */
    --bg-muted: #f5f2e7;         /* Beige - từ brand palette */
    --border-main: #5b6043;      /* Olive - màu chủ đạo */
    --accent: #8c6b4f;           /* Brown - điểm nhấn ấm */
    --accent-muted: #a3b18a;     /* Muted Sage - nhẹ nhàng */
}

/* Dark Mode - Giữ cảm giác ấm áp, bình tĩnh */
html.dark {
    --text-main: #f5f2e7;        /* Beige cho text */
    --bg-main: #2e3428;          /* Olive đậm cho background */
    --bg-muted: #3a4238;         /* Olive medium */
    --border-main: #a3b18a;      /* Muted Sage cho border */
    --accent: #8c6b4f;           /* Brown giữ nguyên */
    --accent-muted: #5b6043;     /* Olive tối hơn */
}

@theme inline {
    --font-sans: 'Inter Variable', sans-serif;
    --font-serif: 'Newsreader Variable', serif;
    --text-color-main: var(--text-main);
    --text-color-accent: var(--accent);
    --background-color-main: var(--bg-main);
    --background-color-muted: var(--bg-muted);
    --border-color-main: var(--border-main);
    --border-color-accent: var(--accent-muted);
}

@layer utilities {
    .prose {
        --tw-prose-body: var(--text-color-main);
        --tw-prose-headings: var(--text-color-main);
        --tw-prose-lead: var(--text-color-main);
        --tw-prose-links: var(--accent);
        --tw-prose-bold: var(--text-color-main);
        --tw-prose-counters: var(--accent-muted);
        --tw-prose-bullets: var(--accent-muted);
        --tw-prose-hr: var(--border-color-accent);
        --tw-prose-quotes: var(--text-color-main);
        --tw-prose-quote-borders: var(--accent);
        --tw-prose-captions: var(--accent-muted);
        --tw-prose-kbd: var(--text-color-main);
        --tw-prose-code: var(--accent);
        --tw-prose-th-borders: var(--border-color-main);
        --tw-prose-td-borders: var(--border-color-accent);
    }

    /* Links - tone ấm, dễ nhìn */
    .prose a {
        @apply underline font-normal decoration-1 underline-offset-2 decoration-dashed hover:decoration-solid transition-colors duration-200;
    }

    /* Headings - font serif theo brand, medium weight */
    .prose :where(h1, h2, h3, h4, h5, h6) {
        @apply font-serif font-medium tracking-tight;
    }

    /* Code và Strong - subtle emphasis */
    .prose :where(code, strong) {
        @apply font-medium;
    }

    /* Blockquote - elegant, serif, italic như trong storytelling */
    .prose blockquote {
        @apply font-serif font-normal italic border-none pl-6 text-[1.375em] leading-snug sm:text-[1.66667em] opacity-90;
        border-left: 3px solid var(--accent);
    }

    /* Tables - clean, minimalist */
    .prose table {
        @apply border-collapse;
    }

    .prose th {
        @apply font-medium bg-[var(--background-color-muted)];
    }

    /* Lists - subtle bullets */
    .prose ul > li::marker {
        color: var(--accent-muted);
    }

    .prose ol > li::marker {
        color: var(--accent-muted);
        @apply font-medium;
    }
}

/* Additional brand utilities */
@layer components {
    .btn-primary {
        @apply bg-[var(--accent)] text-[var(--bg-main)] px-6 py-3 rounded-sm font-medium hover:opacity-90 transition-opacity duration-200;
    }

    .card {
        @apply bg-[var(--background-color-muted)] border border-[var(--border-color-accent)] rounded-sm p-6;
    }

    .divider {
        @apply border-t border-[var(--border-color-accent)] opacity-30;
    }
}

/* Smooth transitions for theme switching */
* {
    @apply transition-colors duration-300;
}

/* Focus states - accessible và phù hợp với brand */
:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}